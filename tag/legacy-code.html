<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Hannah Clare Wray Hazi | articles tagged "legacy code"</title>
    <link rel="shortcut icon" type="image/png" href="../favicon.png">
    <link rel="shortcut icon" type="image/x-icon" href="../favicon.ico">
    <link rel="stylesheet" href="../theme/css/screen.css" type="text/css" />
    <link rel="stylesheet" href="../theme/css/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../theme/css/print.css" type="text/css" media="print" />
    <meta name="generator" content="Pelican" />
    <meta name="description" content="" />
    <meta name="author" content="Hannah Hazi" />
</head>
<body>
    <header>
        <nav>
            <ul>
                <li class="ephemeral selected"><a href="../tag/legacy-code.html">legacy code</a></li>
                <li><a href="../">Home</a></li>
                <li><a href="../pages/about.html">About Me</a></li>
                <li><a href="https://github.com/raspberrycheesecake">GitHub</a></li>
                <li><a href="mailto:hannah.hazi@cantab.net">Contact Me</a></li>
                <li><a href="https://uk.linkedin.com/in/hannah-hazi-9b985a84">LinkedIn</a></li>
                <li><a href="../archives">Archives</a></li>
            </ul>
        </nav>
        <div class="header_box">
            <h1><a href="../">Hannah Clare Wray Hazi</a></h1>
            <h2>I love making beautiful things.</h2>
        </div>
    </header>
    <div id="wrapper">
        <div id="content">            <h4 class="date">Oct 12, 2017</h4>

            <article class="post">
                <h2 class="title">
                    <a href="../value-of-legacy-code.html" rel="bookmark" title="Permanent Link to &quot;The Knowledge in the Code&quot;">The Knowledge in the Code</a>
                </h2>

                
                

                <p>My colleagues and I were discussing legacy code the other day. Someone gave the pretty common opinion that, if there was time, they would of course completely re-write all the legacy code they came across, from scratch. But, since this is not an ideal world and time is limited, they would settle for refactoring what they could.</p>
<p>The classic legacy code situation is one I have been in on a summer project while at university. A scientist wrote a large piece of Fortran 95 to simulate a manufacturing process for a company. He had long since retired and there was no way to contact him to ask about his work. Now the company brought me in as an intern and asked me to add some extra functionality. They were still using the code and found it reliable, but wanted to add a feature for their new equipment. The code stood alone as an explanation of itself, and I had to try to interpret it. I felt like an archaeologist, dusting off terse variable names and cryptic comments, trying to understand not only this code but the complex processes it was simulating, too.</p>
<p><img alt="Indiana Jones and the Lost Code" src=""></p>
<p>I had the attitude that I think most programmers would - rewrite it! Tear it down completely and rebuild it, preferrably in a different, more modern language. Then, you can add the features that you need. But my manager was adamantly against this. As a summer intern, I would leave soon anyway. If I rewrote the code in another language, where was the benefit to the company? From their perspective, they already had a tool that worked fine. They just needed someone who could understand what they already had and improve it a bit. At the time I was frustrated by this, and would tell others the anecdote with a wistful air - "If only I had had the time to rewrite it properly" I would think, "it would have been so much better". But <strong>would</strong> it have?</p>
<h1>Why Rewrite Code?</h1>
<p>I've come across a few different reasons for re-writing code completely.</p>
<ul>
<li>
<p>To write it in a new language. The new language is considered to be 'better' - it has features you want, or the old language is considered passe.</p>
</li>
<li>
<p>For understanding. No-one can figure out how the old code works, so let's learn by doing and rewrite it. It's certainly "<em>easier to write code than read it."</em> This is even true of one's own code - returning to something I coded six months ago, I realised to my regret I left insufficient comments and good names behind - so I had to learn how to understand my own code again!</p>
</li>
<li>
<p>You don't trust the people who wrote the code. 'Not Invented Here' syndrome.</p>
</li>
<li>
<p>The real one, the deep-down felt one: the old code looks <em>bad</em> - it's flaky, it doesn't have any test coverage, the relationship between the parts is crazy. When you read it, you have this instinct to laugh out loud - it's a big hot mess.</p>
</li>
</ul>
<h1>Why Keep Code?</h1>
<p>Joel Spolsky of <a href="https://www.joelonsoftware.com/2000/04/06/things-you-should-never-do-part-i/">Joel on Software</a> fame has called rewriting source code from scratch "the single worst strategic mistake that any software company can make". He uses the example of Mozilla. As a corporate strategy, complete re-writes are almost never a good idea. They tend to take longer than anticipated, and burn time and resources for no appreciable reward until the very end when the new code is ready - by which time, a competitor has probably caught up to you and eaten your lunch.</p>
<p><a href="http://wiki.c2.com/?CodeLearns">Code Learns.</a> </p>
<p>As Joel points out, 'hairy' legacy code functions embody years of bug fixes and reactions to specific situations.</p>
<p>But not only that. Legacy code often embodies knowledge about a process, knowledge that is very difficult to retrieve any other way.</p>
<p>Adding tests and incrementally refactoring old code can give excellent results, in less time than a complete rewrite. <a href="">Your Code as a Crime Scene</a> explains that making improvements to the code can and should be done in a <em>targeted</em> way, rather than by hunches - focusing on areas with the highest cyclomatic complexity and churn.</p>
<h1>A Book Recommendation</h1>
<p>In the course of my research for this post I came across <a href="https://www.spinellis.gr/codereading/">Code Reading</a>, a book about precisely the discipline reading legacy code in order to maintain it and add features. This looks to be a great primer on a neglected skill for programmers. I plan to read it myself and leave a review here, soon.</p>
                <div class="clear"></div>

                <div class="info">
                    <a href="../value-of-legacy-code.html">posted at 00:00</a>
                    &nbsp;&middot;&nbsp;<a href="../category/code-musings.html" rel="tag">code-musings</a>
                    &nbsp;&middot;
                    &nbsp;<a href="../tag/python.html" class="tags">Python</a>
                    &nbsp;<a href="../tag/codebase.html" class="tags">codebase</a>
                    &nbsp;<a href="../tag/legacy-code.html" class="tags selected">legacy code</a>
                    &nbsp;<a href="../tag/refactoring.html" class="tags">refactoring</a>
                </div>
		<a href="../value-of-legacy-code.html#disqus_thread">Click to read and post comments</a>
            </article>

            <div class="clear"></div>
            <footer>
                <p>
                <a href="https://github.com/jody-frankowski/blue-penguin">Blue Penguin</a> Theme
                &middot;
                Proudly Powered by <a href="http://getpelican.com">Pelican</a>
            </footer>
        </div>
        <div class="clear"></div>
    </div>
</body>
</html>